<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro\Migrations; use JTL\Plugin\Migration; use JTL\Update\IMigration; class Migration20250603010100 extends Migration implements IMigration { protected $description = "\103\x6f\156\166\145\x72\164\x20\x6f\x6c\x64\x20\150\x65\141\x64\145\x72\x20\162\x6f\167\x20\160\141\144\x64\x69\x6e\x67\x20\x73\145\x74\x74\151\x6e\147\x73\40\164\x6f\x20\156\x65\167\x20\x66\x6f\162\155\141\x74"; protected $oldSettings = ["\x68\145\x61\144\x65\162\x52\157\x77\120\x61\144\x64\x69\156\147\x54\157\x70", "\x68\145\x61\x64\145\162\x52\x6f\167\120\x61\x64\144\x69\x6e\147\x42\x6f\x74\164\157\155", "\150\145\141\x64\x65\162\x52\157\167\120\141\144\x64\x69\x6e\147\124\157\x70\x4d\x6f\142\x69\154\x65", "\150\145\141\x64\145\162\x52\x6f\167\x50\x61\144\x64\151\156\x67\102\157\164\x74\157\155\x4d\157\x62\x69\x6c\145"]; public function up() { goto mMnz6; qKVQK: $themeVars["\150\145\x61\x64\145\x72\x52\x6f\167\x50\x61\x64\x64\151\x6e\x67\115\x6f\x62\x69\x6c\x65"] = []; TWpg8: $i = 1; VRqhb: if (!($i <= 3)) { goto XEhrt; } if (isset($themeVars["\150\x65\141\x64\x65\162\x52\157\167\120\x61\x64\144\x69\x6e\x67"]["\124\157\160{$i}"])) { goto bzapR; } $themeVars["\150\145\x61\x64\x65\x72\122\x6f\167\120\x61\x64\x64\x69\156\x67"]["\x54\157\x70{$i}"] = "\65\160\170"; bzapR: if (isset($themeVars["\150\145\x61\144\x65\x72\122\x6f\167\x50\x61\144\144\151\156\x67"]["\x42\x6f\x74\164\157\x6d{$i}"])) { goto bjc84; } $themeVars["\150\145\x61\x64\145\x72\x52\x6f\x77\120\x61\x64\x64\151\x6e\x67"]["\102\x6f\x74\164\157\x6d{$i}"] = "\65\160\170"; goto evDOd; evDOd: bjc84: if (isset($themeVars["\x68\x65\141\x64\x65\162\122\x6f\167\x50\x61\x64\144\151\156\x67"]["\x4c\x65\146\164{$i}"])) { goto BEZee; } $themeVars["\x68\145\x61\x64\x65\x72\122\x6f\167\x50\x61\144\144\x69\x6e\147"]["\114\x65\x66\164{$i}"] = "\60"; BEZee: if (isset($themeVars["\150\145\x61\x64\145\162\x52\157\x77\120\141\x64\x64\151\156\x67"]["\x52\151\147\x68\164{$i}"])) { goto oJBCU; } $themeVars["\x68\x65\x61\144\x65\162\x52\x6f\167\120\141\x64\x64\x69\x6e\147"]["\122\x69\147\x68\x74{$i}"] = "\60"; oJBCU: if (isset($themeVars["\x68\x65\x61\x64\145\162\122\157\167\x50\x61\144\144\x69\156\x67"]["\x6c\x69\x6e\x6b\x65\144{$i}"])) { goto ga76G; } $themeVars["\x68\x65\x61\x64\145\162\x52\157\167\x50\141\144\x64\151\156\147"]["\x6c\151\156\153\x65\144{$i}"] = false; ga76G: goto CHizW; CHizW: if (isset($themeVars["\x68\145\141\144\x65\162\x52\157\x77\120\141\x64\144\151\156\147\x4d\x6f\x62\x69\154\x65"]["\x54\x6f\x70{$i}"])) { goto h8R5C; } $themeVars["\x68\x65\x61\144\x65\162\122\157\x77\120\141\x64\x64\151\156\147\115\x6f\142\x69\154\x65"]["\x54\157\160{$i}"] = "\x35\x70\x78"; h8R5C: if (isset($themeVars["\x68\145\x61\144\x65\162\122\157\167\x50\x61\144\x64\151\x6e\147\x4d\157\x62\x69\x6c\145"]["\102\x6f\164\x74\157\x6d{$i}"])) { goto X7yMv; } $themeVars["\150\145\141\x64\x65\162\122\x6f\167\x50\x61\x64\144\151\156\147\115\x6f\x62\x69\x6c\145"]["\x42\157\x74\x74\157\x6d{$i}"] = "\x35\x70\x78"; X7yMv: if (isset($themeVars["\150\145\141\x64\x65\x72\x52\157\x77\120\x61\144\x64\151\156\147\115\157\142\151\154\x65"]["\114\145\146\x74{$i}"])) { goto kNHTn; } $themeVars["\x68\145\141\144\145\x72\x52\157\167\120\141\x64\x64\x69\156\147\115\157\142\x69\154\145"]["\x4c\x65\x66\164{$i}"] = "\x30"; kNHTn: if (isset($themeVars["\150\x65\x61\144\x65\162\122\157\167\x50\x61\144\x64\151\x6e\147\x4d\x6f\x62\x69\x6c\x65"]["\x52\151\x67\150\x74{$i}"])) { goto h5Gll; } goto EWo7t; mMnz6: $sql = "\x53\x45\x4c\x45\x43\x54\x20\52\40\106\x52\x4f\115\x20\170\x70\x6c\x75\147\151\x6e\137\x61\144\155\157\162\x72\x69\163\137\160\162\x6f\x5f\x74\150\145\x6d\145"; $currentValue = $this->fetchOne($sql); if (!(empty($currentValue) || empty($currentValue->data))) { goto efH4H; } return; efH4H: $themeVars = json_decode($currentValue->data, true); if (isset($themeVars["\150\x65\141\x64\x65\162\x52\x6f\167\x50\x61\144\144\x69\156\147"])) { goto Vel4s; } $themeVars["\x68\x65\x61\x64\145\162\x52\157\x77\x50\x61\144\x64\x69\156\x67"] = []; Vel4s: if (isset($themeVars["\x68\x65\141\x64\145\x72\x52\157\167\x50\141\144\x64\151\156\147\115\157\x62\x69\154\x65"])) { goto TWpg8; } goto qKVQK; noxy0: TtXlC: $currentValue->data = json_encode($themeVars); if (!$currentValue) { goto ZZLFv; } $this->db->update("\x78\x70\x6c\x75\147\151\156\137\x61\144\155\157\162\x72\x69\163\137\160\162\x6f\137\164\150\145\x6d\x65", "\156\x61\x6d\145", "\143\x75\163\164\x6f\x6d", $currentValue); ZZLFv: goto SLkGt; EWo7t: $themeVars["\x68\145\x61\x64\145\162\122\157\167\120\141\x64\x64\151\x6e\147\x4d\x6f\x62\151\x6c\x65"]["\122\x69\x67\150\x74{$i}"] = "\60"; h5Gll: if (isset($themeVars["\x68\x65\x61\x64\145\162\x52\157\167\120\x61\144\x64\151\156\x67\115\x6f\x62\x69\154\x65"]["\x6c\151\x6e\x6b\145\144{$i}"])) { goto I_4oB; } $themeVars["\150\145\141\x64\x65\x72\x52\157\167\120\x61\x64\144\151\156\147\115\x6f\142\151\x6c\x65"]["\x6c\151\x6e\x6b\x65\144{$i}"] = false; I_4oB: mXYO4: $i++; goto VRqhb; XEhrt: foreach ($this->oldSettings as $setting) { goto SJD7G; KveC6: eGdCf: $themeVars["\x68\145\141\x64\145\162\122\x6f\167\x50\x61\x64\x64\x69\156\x67"]["\x54\x6f\160{$i}"] = $themeVars[$oldKey]; HtlLe: unset($themeVars[$oldKey]); daCvT: DPbDo: $i++; goto kk_Tn; tul3T: eI2Fn: goto Ss_1U; TAdsi: bkLwa: goto LimmT; oCMjB: $themeVars["\150\x65\x61\144\145\x72\122\x6f\167\x50\141\144\144\x69\x6e\147\115\x6f\x62\x69\x6c\145"]["\124\157\x70{$i}"] = $themeVars[$oldKey]; LimmT: goto HM2_Y; SGWvw: $themeVars["\x68\x65\x61\144\145\x72\122\x6f\167\120\141\144\144\151\x6e\147"]["\102\x6f\x74\x74\x6f\x6d{$i}"] = $themeVars[$oldKey]; HM2_Y: goto HtlLe; goto KveC6; SJD7G: $i = 1; kk_Tn: if (!($i <= 3)) { goto tul3T; } $oldKey = $setting . $i; if (!isset($themeVars[$oldKey])) { goto daCvT; } if ($setting === "\150\145\x61\x64\145\162\122\x6f\167\x50\141\144\x64\x69\x6e\147\x54\x6f\160") { goto eGdCf; } if ($setting === "\150\x65\x61\144\145\162\x52\157\167\x50\x61\144\x64\x69\156\147\102\x6f\x74\164\157\155") { goto SGWvw; } if ($setting === "\x68\145\x61\144\145\162\x52\x6f\x77\120\x61\x64\x64\x69\x6e\147\124\x6f\160\x4d\157\142\151\154\145") { goto oCMjB; } if (!($setting === "\x68\145\x61\144\145\162\x52\x6f\x77\120\x61\x64\x64\x69\156\147\102\157\x74\164\x6f\155\115\157\142\151\154\145")) { goto bkLwa; } $themeVars["\x68\x65\141\144\145\x72\x52\x6f\167\120\x61\x64\144\x69\x6e\x67\115\157\142\151\154\145"]["\102\157\164\164\157\x6d{$i}"] = $themeVars[$oldKey]; goto TAdsi; Ss_1U: } goto noxy0; SLkGt: } public function down() { } }