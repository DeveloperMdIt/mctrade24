<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro\Migrations; use JTL\Plugin\Migration; use JTL\Update\IMigration; class Migration20250709010100 extends Migration implements IMigration { protected $description = "\125\x70\144\x61\x74\145\40\145\170\160\145\x72\164\40\x73\x65\x74\164\x69\156\x67\x73\x20\146\157\162\x20\x73\x68\151\160\x70\x69\156\147\x20\143\157\165\x6e\164\144\157\x77\x6e"; protected function getPluginID() : int { $plugin = $this->getDB()->select("\x74\x70\x6c\165\x67\151\x6e", "\x63\x50\154\x75\x67\151\x6e\x49\104", "\141\x64\x6d\x6f\x72\162\151\x73\x5f\x70\x72\x6f"); return (int) $plugin->kPlugin; } public function up() { $pluginID = $this->getPluginID(); $updateSQL = "\x55\x50\x44\101\x54\x45\40\164\160\154\165\147\x69\x6e\145\151\156\163\164\145\154\154\x75\156\x67\145\x6e\40\12\x20\x20\x20\40\x20\40\40\40\x20\x20\x20\x20\40\x20\40\x20\x20\x20\x53\x45\124\40\x63\127\x65\162\x74\40\x3d\40\x27\56\160\162\157\144\165\143\164\x2d\151\x6e\x66\157\x2d\151\x6e\156\x65\x72\40\56\144\x65\x6c\x69\166\x65\162\171\x2d\x73\x74\x61\x74\x75\163\x27\40\xa\x20\40\x20\x20\40\x20\x20\x20\x20\x20\40\x20\x20\40\x20\40\x20\40\127\110\105\x52\x45\40\x6b\x50\x6c\x75\x67\151\156\x20\x3d\x20{$pluginID}\40\12\x20\x20\x20\40\x20\x20\x20\x20\x20\40\40\40\40\40\40\x20\x20\x20\x41\x4e\x44\x20\x63\116\x61\155\x65\40\75\40\47\141\x64\x6d\x6f\x72\162\x69\x73\137\160\162\x6f\x5f\145\170\160\145\162\164\x5f\163\x65\164\x74\151\156\x67\163\x5f\x73\150\151\160\160\x69\x6e\147\137\x63\157\165\x6e\164\144\x6f\x77\x6e\x5f\143\163\x73\x5f\x73\x65\154\x65\x63\164\x6f\x72\x27"; $this->execute($updateSQL); } public function down() { $pluginID = $this->getPluginID(); $updateSQL = "\x55\x50\104\101\x54\x45\40\164\160\x6c\165\x67\151\x6e\x65\151\156\163\164\x65\154\154\165\156\147\145\156\40\xa\x20\40\x20\x20\40\x20\x20\40\x20\x20\x20\40\40\40\x20\x20\x20\40\x53\105\x54\x20\143\x57\145\x72\x74\40\x3d\x20\x27\144\x69\x76\56\x64\145\154\x69\x76\145\x72\171\x2d\163\164\141\164\x75\x73\x27\x20\xa\x20\40\x20\40\x20\x20\x20\40\x20\40\x20\40\x20\40\40\x20\40\40\x57\110\105\x52\105\x20\153\x50\x6c\165\x67\x69\156\40\75\x20{$pluginID}\x20\12\40\x20\x20\x20\40\40\40\40\x20\x20\40\40\40\40\x20\40\x20\x20\101\116\104\40\143\116\141\x6d\145\40\x3d\x20\47\141\144\x6d\157\162\162\151\163\137\x70\x72\157\137\x65\x78\x70\145\x72\x74\137\163\145\x74\x74\151\x6e\x67\163\137\x73\150\151\160\x70\x69\x6e\147\137\143\157\165\x6e\x74\144\157\167\x6e\137\143\163\x73\x5f\x73\145\x6c\145\143\x74\x6f\x72\47"; $this->execute($updateSQL); } }