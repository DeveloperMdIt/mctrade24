<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro; use JTL\Media\Image; use JTL\Shop; use JTL\Catalog\Product\Artikel; use JTL\DB\ReturnType; use Plugin\admorris_pro\Utils\TypeConverter; $pluginSetting = Shop::get("\141\144\155\157\x72\162\x69\x73\120\x72\157\55\163\145\x74\x74\151\x6e\147\163"); $notShowInCheckout = $pluginSetting["\x6d\x61\162\x6b\145\x74\x69\156\147\x5f\154\x69\x76\x65\x5f\163\141\x6c\x65\137\x6e\x6f\x74\x69\x66\x69\x63\141\x74\x69\x6f\156\137\x6e\157\164\x5f\163\x68\157\x77\x5f\151\x6e\x5f\x63\x68\x65\143\x6b\x6f\165\164"]; if (!($notShowInCheckout == "\131" && !in_array(Shop::getPageType(), [\PAGE_WARENKORB, \PAGE_ARTIKEL, \PAGE_ARTIKELLISTE, \PAGE_WUNSCHLISTE, \PAGE_VERGLEICHSLISTE, \PAGE_STARTSEITE, \PAGE_SITEMAP, \PAGE_NEWSMONAT, \PAGE_NEWSKATEGORIE, \PAGE_HERSTELLER]))) { goto Geool; } return; Geool: global $pluginLang; $pluginLang = $oPlugin->getLocalization()->getTranslations(); $sessionData = $_SESSION["\141\x64\155\x6f\162\x72\151\163\137\x70\x72\x6f\x5f\154\151\x76\145\x5f\163\x61\x6c\145\137\x6e\x6f\x74\151\x66\x69\x63\141\x74\151\157\x6e\163"]->data ?? null; $modus = $oPlugin->getConfig()->getValue("\x61\x64\x6d\157\x72\x72\151\163\x5f\x70\162\157\137\155\141\x72\x6b\x65\x74\151\156\x67\137\154\x69\x76\x65\x5f\163\x61\154\x65\x5f\156\x6f\164\151\x66\151\143\x61\164\x69\x6f\x6e\137\x6d\157\x64\x75\x73"); $showName = $oPlugin->getConfig()->getValue("\141\x64\x6d\157\162\162\x69\x73\x5f\x70\x72\x6f\x5f\155\141\x72\153\x65\164\x69\156\x67\x5f\x6c\151\x76\145\x5f\163\x61\154\145\x5f\x6e\157\164\151\x66\x69\143\x61\x74\x69\157\156\137\163\x68\157\x77\x5f\x6e\x61\x6d\145"); $showCity = $oPlugin->getConfig()->getValue("\141\144\x6d\157\x72\162\151\x73\137\160\162\157\137\x6d\x61\x72\153\145\164\151\x6e\147\137\x6c\151\x76\145\137\163\141\x6c\x65\x5f\156\x6f\x74\151\146\x69\143\x61\164\151\157\x6e\137\163\x68\157\167\137\143\151\x74\x79"); try { goto sG3Nx; XWsuX: $randNum = array_rand($demoNames); $randName = $demoNames[$randNum]; unset($demoNames[$randNum]); $saleData[$key] = new \StdClass(); $saleData[$key]->cVorname = $randName; $randNum = array_rand($demoCity); $randCity = $demoCity[$randNum]; $saleData[$key]->cOrt = $randCity; $randNum = array_rand($demoProducts); $randProduct = $demoProducts[$randNum]; goto pBWOs; cuDfx: $saleData = json_encode($saleData); $_SESSION["\x61\144\155\157\162\162\151\163\137\160\x72\157\x5f\154\151\x76\145\137\163\141\x6c\145\x5f\x6e\157\164\151\146\x69\x63\141\164\x69\x6f\x6e\x73"] = new \stdClass(); $_SESSION["\141\144\155\x6f\162\162\x69\163\137\160\162\x6f\x5f\154\x69\x76\x65\137\x73\x61\x6c\145\x5f\x6e\157\x74\x69\x66\151\x63\x61\164\x69\x6f\x6e\163"]->data = $saleData; goto JDvnr; sG3Nx: $saleData = []; $howMany = $oPlugin->getConfig()->getValue("\141\144\x6d\x6f\162\x72\151\x73\137\x70\x72\x6f\x5f\155\141\x72\153\x65\x74\x69\x6e\x67\137\x6c\x69\x76\x65\x5f\163\x61\x6c\145\137\x6e\157\x74\x69\x66\x69\143\141\164\151\157\156\137\150\x6f\167\x5f\155\x61\x6e\x79"); $lastMinutes = $oPlugin->getConfig()->getValue("\x61\x64\x6d\157\x72\162\151\163\x5f\160\x72\x6f\137\155\141\162\153\x65\164\x69\x6e\147\x5f\154\151\x76\145\137\163\141\154\x65\x5f\x6e\157\164\x69\x66\151\x63\141\164\151\x6f\x6e\x5f\x6c\141\x73\x74\x5f\x6d\x69\156\165\164\145\163"); if ($modus == 1) { goto G0_tD; } if ($modus == 2) { goto d0DSx; } if ($modus == 3) { goto MN60O; } goto q12TJ; G0_tD: $date = new \DateTime(); $date->modify("\x2d{$lastMinutes}\x20\x6d\x69\156\x75\x74\x65\x73"); goto RRsow; snPIg: IZZmY: $key++; goto HnWhR; c1EQl: $saleData = array_values($saleData); goto q12TJ; MN60O: $liveSaleNotificationSettings = Shop::Container()->getDB()->select("\x78\x70\x6c\165\147\151\156\x5f\141\144\155\157\x72\x72\x69\x73\x5f\x70\x72\157\137\x6c\x69\166\145\x5f\163\x61\154\x65\137\x6e\x6f\164\151\x66\x69\x63\141\x74\x69\x6f\156\137\163\145\164\x74\151\156\147\x73", "\x69\x64", 1); $demoNames = TypeConverter::encode_with_specialchars($liveSaleNotificationSettings->demo_names); $demoNames = explode("\54\x20", $demoNames); goto dtRMD; wZIRA: $saleData[$key]->imgAlt = $productNameSeoPic->imgAlt; $randNum = rand(1, $lastMinutes); $date = new \DateTime(); $date->modify("\55{$randNum}\40\155\151\x6e\165\x74\145\163"); $date->format("\131\x2d\x6d\x2d\144\40\x48\x3a\151\72\x73"); $saleData[$key]->date = getDateDifference($date->format("\x59\x2d\x6d\55\x64\40\110\x3a\151\x3a\163")); $saleData[$key]->id = rand(1, 9999); if (!($saleData[$key]->cName == null || $saleData[$key]->cName == '' || $saleData[$key]->cName == "\x75\156\x64\x65\146\151\x6e\145\x64" || $saleData[$key]->picture == null || $saleData[$key]->picture == '' || $saleData[$key]->picture == "\x75\x6e\x64\145\146\151\156\145\x64")) { goto Q5zIy; } unset($saleData[$key]); Q5zIy: goto snPIg; RRsow: $date->format("\x59\x2d\155\x2d\144\x20\110\x3a\151\x3a\x73"); $dateDiference = date_format($date, "\x59\55\x6d\x2d\x64\x20\110\x3a\151\x3a\163"); $orders = getLastOrders($howMany, $dateDiference); foreach ($orders as $key => $order) { goto k95LK; xAU3u: lRaLy: if (!($showName == "\x4e")) { goto o7PvC; } $saleData[$key]->cVorname = "\x6e\157\156\x65"; o7PvC: if (!($showCity == "\x4e")) { goto inbbY; } $saleData[$key]->cOrt = "\156\157\156\x65"; inbbY: DFrL2: goto Jq25z; Oreim: goto DFrL2; OMoxz: $saleData[$key]->cName = $productNameSeoPic->cName; $saleData[$key]->cSeo = $productNameSeoPic->cSeo; $saleData[$key]->picture = $productNameSeoPic->picture; $saleData[$key]->imgAlt = $productNameSeoPic->imgAlt; $saleData[$key]->date = getDateDifference($orders[$key]->dErstellt); $saleData[$key]->id = $orders[$key]->kBestellung; if (!($saleData[$key]->cName == null || $saleData[$key]->cName == '' || $saleData[$key]->cName == "\165\x6e\x64\x65\146\x69\x6e\145\144" || $saleData[$key]->picture == null || $saleData[$key]->picture == '' || $saleData[$key]->picture == "\x75\156\x64\145\146\151\x6e\145\x64")) { goto lRaLy; } unset($saleData[$key]); goto xAU3u; k95LK: $saleData[$key] = getAddress($orders[$key]->kRechnungsadresse); $product = getProductFromBasket($orders[$key]->kWarenkorb); if (!(empty($product) || !is_object($saleData[$key]))) { goto W2BT5; } unset($saleData[$key]); goto DFrL2; W2BT5: $saleData[$key]->cArtNr = $product->cArtNr; $productNameSeoPic = getProductNameSeoPic($product->cArtNr); if (!empty($productNameSeoPic)) { goto OMoxz; } unset($saleData[$key]); goto Oreim; Jq25z: } hA_Ve: goto q12TJ; d0DSx: $liveSaleNotificationSettings = Shop::Container()->getDB()->select("\170\x70\x6c\165\x67\x69\x6e\x5f\141\144\155\x6f\162\162\151\x73\137\x70\x72\157\137\154\x69\x76\x65\x5f\163\x61\x6c\x65\137\x6e\x6f\164\x69\x66\151\x63\x61\x74\x69\x6f\x6e\137\163\145\164\164\x69\156\147\x73", "\151\144", 1); $demoNames = TypeConverter::encode_with_specialchars($liveSaleNotificationSettings->demo_names); $demoNames = explode("\x2c\x20", $demoNames); goto CVp1q; dtRMD: $demoCity = TypeConverter::encode_with_specialchars($liveSaleNotificationSettings->demo_locations); $demoCity = explode("\54\x20", $demoCity); $date = new \DateTime(); $date->modify("\55{$lastMinutes}\40\x6d\x69\x6e\165\x74\145\163"); $date->format("\131\x2d\x6d\x2d\x64\x20\110\72\x69\72\x73"); $dateDiference = date_format($date, "\131\x2d\x6d\55\x64\x20\x48\x3a\151\x3a\x73"); $orders = getLastOrders($howMany, $dateDiference); foreach ($orders as $key => $order) { goto dqvJ6; pKa_9: $saleData[$key]->cOrt = $randCity; $product = getProductFromBasket($orders[$key]->kWarenkorb); if (!empty($product)) { goto ibZ_E; } unset($saleData[$key]); goto DTFFE; ibZ_E: $saleData[$key]->cArtNr = $product->cArtNr; $productNameSeoPic = getProductNameSeoPic($product->cArtNr); $saleData[$key]->cName = $productNameSeoPic->cName; $saleData[$key]->cSeo = $productNameSeoPic->cSeo; goto u9cMb; u9cMb: $saleData[$key]->picture = $productNameSeoPic->picture; $saleData[$key]->imgAlt = $productNameSeoPic->imgAlt; $saleData[$key]->date = getDateDifference($orders[$key]->dErstellt); $saleData[$key]->id = $orders[$key]->kBestellung; if (!(empty($saleData[$key]->cName) || empty($saleData[$key]->picture))) { goto hVfcH; } unset($saleData[$key]); hVfcH: DTFFE: goto BBFZP; dqvJ6: if (!empty($demoNames)) { goto Qtdw6; } goto WWVED; Qtdw6: $randNum = array_rand($demoNames); $randName = $demoNames[$randNum]; unset($demoNames[$randNum]); $saleData[$key] = new \stdClass(); $saleData[$key]->cVorname = $randName; $randNum = array_rand($demoCity); $randCity = $demoCity[$randNum]; goto pKa_9; BBFZP: } WWVED: q12TJ: goto cuDfx; pBWOs: if (empty($randProduct)) { goto IZZmY; } $productNameSeoPic = getProductNameSeoPic($randProduct); if (!empty($productNameSeoPic)) { goto HbXy3; } unset($saleData[$key]); $key++; goto HnWhR; HbXy3: $saleData[$key]->cName = $productNameSeoPic->cName; $saleData[$key]->cSeo = $productNameSeoPic->cSeo; $saleData[$key]->picture = $productNameSeoPic->picture; goto wZIRA; CVp1q: $demoCity = TypeConverter::encode_with_specialchars($liveSaleNotificationSettings->demo_locations); $demoCity = explode("\54\x20", $demoCity); $demoProducts = TypeConverter::encode_with_specialchars($liveSaleNotificationSettings->demo_product_ids); $demoProducts = explode("\54\x20", $demoProducts); $key = 0; HnWhR: if (!($key < $howMany)) { goto c1EQl; } if (!empty($demoNames)) { goto Ve7fv; } goto c1EQl; Ve7fv: goto XWsuX; JDvnr: } catch (\Exception $th) { trigger_error("\101\x64\155\x6f\162\162\x69\x73\40\120\x72\x6f\x3a\40\x4c\151\x76\x65\40\x53\141\154\x65\x20\x4e\157\164\x69\x66\151\x63\x61\x74\151\157\156\x20\105\x72\x72\157\x72\72\40" . $th->getMessage(), E_USER_WARNING); Shop::Container()->getLogService()->warning("\101\x64\155\157\162\162\x69\x73\x20\120\162\157\72\x20\114\151\166\x65\40\123\141\154\x65\40\116\x6f\164\151\x66\x69\143\141\x74\x69\157\156\40\x45\162\162\157\162\72\x20" . $th->getMessage()); } Shop::Smarty()->assign("\x61\144\x6d\x6f\162\162\x69\163\137\x70\x72\157\x5f\x6d\141\x72\x6b\145\164\x69\156\147\137\154\151\166\x65\137\x73\141\x6c\x65\137\x6e\157\x74\x69\146\151\143\x61\164\x69\x6f\x6e\137\144\165\x72\x61\x74\x69\157\x6e", $oPlugin->getConfig()->getValue("\141\x64\155\x6f\162\162\151\x73\137\x70\162\x6f\137\155\x61\x72\153\x65\164\x69\156\x67\x5f\154\x69\x76\145\137\163\x61\x6c\x65\137\156\x6f\x74\151\x66\151\143\x61\x74\151\157\156\137\x64\x75\x72\141\x74\151\157\x6e") * 1000); Shop::Smarty()->assign("\x61\144\x6d\157\162\162\151\x73\x5f\x70\x72\x6f\x5f\x6d\141\162\x6b\x65\x74\151\x6e\x67\137\154\151\x76\145\x5f\x73\x61\154\145\137\x6e\157\164\x69\x66\151\143\x61\164\151\157\x6e\x5f\150\x6f\167\x5f\x6d\x61\x6e\x79", $oPlugin->getConfig()->getValue("\x61\x64\x6d\157\162\162\151\x73\137\160\162\x6f\x5f\x6d\x61\x72\153\x65\164\x69\x6e\x67\x5f\x6c\151\x76\145\x5f\163\141\154\x65\x5f\156\157\x74\151\x66\x69\143\x61\164\x69\157\156\137\x68\x6f\167\137\155\141\x6e\171")); Shop::Smarty()->assign("\141\x64\155\x6f\162\162\151\163\x5f\160\162\x6f\137\x6d\141\x72\x6b\145\164\x69\x6e\147\137\x6c\151\x76\x65\137\163\x61\154\x65\137\x6e\x6f\x74\151\146\151\x63\141\x74\x69\x6f\x6e\x5f\144\145\154\x61\171", $oPlugin->getConfig()->getValue("\141\144\x6d\157\162\162\151\x73\x5f\160\x72\157\137\x6d\x61\x72\x6b\x65\x74\151\156\147\137\154\x69\166\145\x5f\163\x61\x6c\x65\x5f\x6e\157\164\151\x66\x69\143\x61\164\x69\x6f\x6e\137\x64\145\x6c\x61\x79") * 1000); Shop::Smarty()->assign("\x61\144\x6d\157\162\x72\151\163\137\x70\162\x6f\137\x6d\141\x72\153\x65\x74\151\156\x67\x5f\x6c\151\166\x65\137\163\x61\154\x65\137\x6e\157\x74\x69\x66\151\143\x61\164\x69\157\x6e\137\x69\x6e\x74\145\162\166\x61\154", $oPlugin->getConfig()->getValue("\141\144\155\157\162\x72\x69\x73\137\160\x72\x6f\x5f\155\141\162\153\x65\164\151\156\147\137\x6c\x69\x76\145\137\x73\141\154\145\137\156\157\164\x69\146\x69\143\x61\164\151\157\x6e\137\x69\x6e\x74\x65\162\x76\x61\154") * 1000 + 2100); Shop::Smarty()->assign("\141\144\155\157\162\162\x69\x73\137\x70\x72\157\x5f\155\x61\x72\x6b\145\x74\x69\156\x67\x5f\x6c\x69\x76\145\x5f\163\x61\154\145\x5f\x6e\157\164\151\x66\x69\143\x61\164\151\157\156\137\163\x68\157\x77\x5f\x6e\141\155\145", $oPlugin->getConfig()->getValue("\141\144\x6d\157\162\162\151\x73\137\160\x72\157\137\x6d\141\x72\x6b\x65\164\151\156\147\137\x6c\x69\166\x65\137\163\x61\154\x65\137\x6e\157\164\x69\146\x69\143\x61\164\151\157\x6e\137\163\x68\157\x77\x5f\156\x61\155\x65")); Shop::Smarty()->assign("\141\144\155\x6f\162\162\151\x73\137\x70\x72\157\137\x6d\x61\162\x6b\x65\x74\x69\156\147\137\x6c\151\x76\x65\137\x73\x61\x6c\x65\137\x6e\x6f\x74\151\x66\151\x63\141\164\x69\x6f\156\x5f\163\x68\x6f\167\137\143\x69\x74\x79", $oPlugin->getConfig()->getValue("\x61\x64\x6d\x6f\162\162\151\x73\x5f\160\162\x6f\137\x6d\141\x72\x6b\145\x74\x69\x6e\x67\137\x6c\x69\166\145\x5f\x73\141\x6c\145\x5f\x6e\x6f\x74\x69\x66\x69\x63\x61\164\151\x6f\156\x5f\x73\x68\157\167\137\x63\151\x74\x79")); $template = $oPlugin->getPaths()->getFrontendPath() . "\x74\x65\155\160\154\x61\164\145\x73\57\x6d\x61\162\x6b\x65\164\x69\156\x67\137\x6c\151\166\x65\137\x73\x61\154\145\137\156\x6f\164\x69\146\x69\x63\x61\164\151\157\156\56\164\x70\154"; pq("\142\x6f\x64\171")->append($smarty->fetch($template)); $css = $oPlugin->getPaths()->getFrontendURL() . "\143\x73\163\x2f\x6c\151\x76\145\55\x73\x61\x6c\x65\55\x6e\157\x74\151\x66\x69\x63\x61\x74\x69\157\x6e\56\143\163\x73"; $assetLoader->addToHead([$css], "\x6c\x69\x76\145\123\141\x6c\x65\x4e\x6f\164\151\x66\151\143\141\164\x69\x6f\156", "\144\x65\146\145\162"); function getProductNameSeoPic($cArtNr) { goto Zwk_2; Zwk_2: $defaultLang = $_SESSION["\143\x75\162\x72\145\156\x74\114\x61\156\147\x75\x61\147\145"]->cStandard; $productData = getProductData($cArtNr); if (!empty($productData)) { goto uZRW9; } return; uZRW9: $article = new Artikel(); $article->fuelleArtikel((int) $productData->kArtikel, Artikel::getDefaultOptions()); if (empty($article->FunktionsAttribute["\145\170\x74\162\141\137\x70\162\157\144\x75\x63\x74\137\156\157\164\x5f\x62\165\x79\141\142\154\145"])) { goto eW5G6; } return; eW5G6: goto VdXUG; XdTs6: n_SpQ: if (!($defaultLang == "\x59" || empty($saleData->cSeo))) { goto u66y4; } $saleData->cSeo = $productData->cSeo; u66y4: $saleData->picture = $article->getImage(Image::SIZE_SM); $saleData->imgAlt = $article->Bilder[0]->cAltAttribut; return $saleData; goto ZGY3_; VdXUG: $saleData = new \StdClass(); if (!($defaultLang == "\x4e")) { goto RetWW; } $langData = getProductLanguage($productData->kArtikel); if (empty($langData)) { goto FaQEY; } $saleData->cName = $langData->cName; $saleData->cSeo = $langData->cSeo; FaQEY: RetWW: if (!($defaultLang == "\x59" || empty($saleData->cName))) { goto n_SpQ; } $saleData->cName = $productData->cName; goto XdTs6; ZGY3_: } function getLastOrders($howMany, $dateDiference) { $saleData = Shop::Container()->getDB()->query("\x53\105\x4c\x45\x43\x54\x20\x60\153\102\x65\163\164\145\x6c\154\165\156\x67\140\x2c\40\140\153\x57\141\x72\145\156\x6b\x6f\162\142\x60\54\x20\x60\153\x52\145\143\150\x6e\x75\x6e\x67\x73\x61\x64\162\145\x73\163\x65\x60\54\40\x60\144\105\x72\x73\164\x65\x6c\x6c\164\x60\x20\x46\x52\x4f\115\40\140\164\x62\145\163\164\x65\x6c\x6c\x75\156\x67\140\xa\40\x20\40\x20\127\x48\105\122\105\x20\140\144\x45\x72\163\x74\x65\154\x6c\x74\140\40\x3e\x20\47{$dateDiference}\47\12\40\x20\40\x20\x4f\122\x44\x45\x52\40\102\131\x20\x52\101\116\x44\50\x29\xa\x20\x20\40\x20\114\111\115\x49\124\40{$howMany}", ReturnType::ARRAY_OF_OBJECTS); return $saleData; } function getProductFromBasket($kWarenkorb) { $saleData = Shop::Container()->getDB()->query("\x53\105\114\x45\103\x54\x20\x60\x63\101\162\x74\x4e\162\140\x20\x46\122\x4f\x4d\x20\x60\x74\167\141\x72\145\156\x6b\x6f\162\x62\x70\157\163\x60\40\12\40\40\x20\x20\127\x48\x45\x52\x45\40\140\x6b\127\141\x72\x65\156\153\157\162\x62\140\40\x3d\x20{$kWarenkorb}\12\x20\40\x20\40\x41\116\x44\x20\140\156\x50\157\163\x54\x79\160\140\x20\x3d\x20\61\xa\x20\40\40\x20\117\x52\104\105\x52\40\x42\131\x20\x52\x41\x4e\104\x28\51\xa\40\40\x20\x20\114\111\x4d\x49\124\x20\61", ReturnType::SINGLE_OBJECT); return $saleData; } function getAddress($kRechnungsadresse) { $saleData = Shop::Container()->getDB()->query("\x53\x45\x4c\105\103\124\x20\140\143\x56\157\162\x6e\x61\155\145\x60\54\40\140\143\x4f\162\164\x60\x20\106\122\117\x4d\x20\140\164\x72\x65\x63\x68\156\x75\156\147\163\141\x64\x72\x65\x73\163\145\x60\x20\x57\110\105\122\105\x20\140\x6b\122\x65\x63\150\x6e\x75\156\x67\x73\x61\x64\162\x65\163\163\x65\x60\40\x3d\40\47{$kRechnungsadresse}\47", ReturnType::SINGLE_OBJECT); return $saleData; } function getProductData($productId) { $saleData = Shop::Container()->getDB()->query("\123\x45\114\105\103\124\40\140\x63\116\x61\x6d\x65\140\x2c\40\140\x6b\x41\x72\x74\151\153\145\x6c\140\54\x20\x60\143\x53\x65\x6f\140\x20\x46\122\117\x4d\x20\140\x74\x61\x72\x74\151\153\x65\x6c\140\x20\127\x48\105\122\105\x20\140\x63\x41\162\164\116\x72\x60\40\75\40\x27{$productId}\x27", ReturnType::SINGLE_OBJECT); return $saleData; } function getProductLanguage($productKey) { $kSprache = $_SESSION["\143\165\162\x72\x65\x6e\164\x4c\x61\x6e\x67\165\141\x67\x65"]->kSprache; $saleData = Shop::Container()->getDB()->query("\x53\x45\114\x45\x43\124\40\52\40\106\x52\117\x4d\x20\140\x74\x61\x72\164\151\x6b\x65\154\163\x70\x72\x61\143\x68\x65\x60\x20\127\x48\x45\x52\x45\x20\140\153\x41\162\164\151\x6b\x65\154\x60\x20\x3d\x20\x27{$productKey}\x27\x20\101\x4e\104\40\140\x6b\x53\x70\162\x61\143\150\145\140\40\75\x20\47{$kSprache}\x27", ReturnType::SINGLE_OBJECT); if (!empty($saleData)) { goto gN370; } return null; gN370: return $saleData; } function getDateDifference($dErstellt) { goto DsLSI; k4ATp: $hours = $hours + $diff->days * 24; $minutes = $diff->i + $hours * 60; if ($minutes < 1) { goto t0au9; } if ($hours < 1) { goto nY2r8; } if ($hours < 24) { goto goka8; } return $diff->format($about . "\x25\x61" . $langDays . $ago); goto beYQZ; t0au9: return $pluginLang["\x61\x64\x6d\x6f\162\x72\151\x73\137\160\x72\x6f\x5f\155\141\162\x6b\145\164\151\156\147\x5f\x6c\x69\x76\x65\137\163\141\x6c\x65\x5f\156\157\x74\x69\146\x69\x63\141\x74\x69\157\156\x5f\x74\151\x6d\145\x5f\156\157\167"]; goto beYQZ; goto L1xjF; DsLSI: global $pluginLang; $about = $pluginLang["\x61\x64\x6d\x6f\162\162\151\163\x5f\160\x72\157\x5f\155\x61\x72\153\145\x74\151\156\147\x5f\x6c\151\166\x65\137\163\141\154\x65\137\156\157\164\151\146\151\143\x61\x74\151\157\x6e\x5f\164\151\155\145\137\141\x62\157\165\x74"]; $ago = $pluginLang["\x61\x64\x6d\x6f\162\162\151\x73\x5f\x70\162\157\x5f\x6d\x61\162\x6b\145\164\151\x6e\x67\137\154\x69\x76\x65\x5f\163\x61\x6c\x65\x5f\156\157\x74\x69\146\151\x63\x61\164\151\x6f\156\x5f\164\151\x6d\x65\x5f\141\x67\x6f"]; $langMinutes = $pluginLang["\x61\x64\155\x6f\162\162\x69\x73\x5f\160\162\x6f\x5f\x6d\141\x72\153\x65\164\151\x6e\147\x5f\154\151\166\x65\137\x73\x61\x6c\145\137\156\157\x74\151\146\x69\x63\x61\x74\151\157\x6e\137\x74\x69\155\145\137\155\x69\x6e\165\x74\x65\x73"]; $langHours = $pluginLang["\141\144\x6d\157\x72\x72\x69\163\x5f\x70\x72\157\x5f\155\x61\x72\153\145\164\151\x6e\x67\x5f\x6c\x69\x76\x65\x5f\163\x61\154\145\x5f\x6e\x6f\164\151\x66\x69\x63\x61\164\151\x6f\156\137\164\x69\155\145\x5f\x68\x6f\x75\x72\x73"]; $langDays = $pluginLang["\141\144\155\x6f\x72\162\151\x73\137\x70\x72\157\x5f\155\x61\x72\x6b\145\x74\x69\156\147\x5f\154\x69\166\145\x5f\x73\x61\154\x65\137\156\x6f\164\x69\146\151\x63\141\x74\x69\x6f\156\x5f\164\x69\x6d\x65\x5f\144\x61\x79\163"]; $dErstellt = new \DateTime($dErstellt); $date = new \DateTime(); $diff = $dErstellt->diff($date); $hours = $diff->h; goto k4ATp; L1xjF: nY2r8: return $diff->format($about . "\x25\151" . $langMinutes . $ago); goto beYQZ; goka8: return $diff->format($about . "\45\x68" . $langHours . $ago); beYQZ: goto O5Ma_; O5Ma_: }