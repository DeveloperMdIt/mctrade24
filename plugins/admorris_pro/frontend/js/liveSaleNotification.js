var display,interval,data,duration,intervalDuration,notificationDelay,langVars,displaysleft,element,ids=JSON.parse(localStorage.getItem("admorris-pro-live-sale-notification"))||[];export default function init(t){data=t.data,duration=t.duration,intervalDuration=t.intervalDuration,notificationDelay=t.notificationDelay,langVars=t.langVars,$(document).ready((function(){element=$("#admorris-live-sale-notification"),setTimeout((function(){showNotification()}),notificationDelay),element.hover((function(){clearTimeout(display),clearTimeout(interval)}),(function(){changeAnimationOut(),setTimeout((function(){showNotification()}),notificationDelay)}))})),Storage.prototype.setObj=function(t,a){return this.setItem(t,JSON.stringify(a))},Storage.prototype.getObj=function(t){return JSON.parse(this.getItem(t))}}function showNotification(){try{if(data.length>0&&ids.includes(data[0].id))return data.shift(),void showNotification();if(data.length>0&&void 0!==data[0].cName){ids.push(data[0].id),localStorage.setObj("admorris-pro-live-sale-notification",ids),document.getElementById("admorris-live-sale-notification-text").innerHTML=langVars.someone+langVars.bought+"<br><strong><a href='"+admorris_shopUrl+"/"+data[0].cSeo+"'>"+data[0].cName+"</a></strong><br>"+data[0].date;var t=document.createElement("img");t.id="admorris-live-sale-notification-img",t.onload=setAnimation,t.height="87",t.onerror=function(){this.src="gfx/keinBild.gif"},t.src=data[0].picture,t.alt=data[0].imgAlt;var a=document.createElement("a");a.href=admorris_shopUrl+"/"+data[0].cSeo,a.appendChild(t);var i=document.getElementById("admorris-live-sale-notification-picture");i.innerHTML="",i.appendChild(a)}}catch(t){console.error("Live Sale Notifications Error:",t)}}function setAnimation(){(displaysleft=data.length)<1?clearTimeout(display):changeAnimationIn(),interval=setTimeout(showNotification,intervalDuration),data.shift()}function changeAnimationOut(){element.removeClass("fadeInUp"),element.addClass("fadeOutDown"),element.fadeOut(1050)}function changeAnimationIn(){element.removeClass("fadeOutDown"),element.addClass("fadeInUp"),element.fadeIn(1050),display=setTimeout((function(){changeAnimationOut()}),duration)}