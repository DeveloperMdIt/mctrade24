<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro; use JTL\Catalog\Product\Artikel; use JTL\Shop; if (!(Shop::getSettings([CONF_GLOBAL])["\147\x6c\x6f\142\x61\x6c"]["\167\141\x72\164\165\156\x67\163\155\157\144\x75\x73\x5f\x61\153\x74\151\x76\151\x65\162\x74"] === "\131" && !Shop::isAdmin())) { goto PzXmu; } return; PzXmu: if (!($oPlugin->getConfig()->getValue("\x61\x64\x6d\157\162\162\151\163\x5f\160\162\157\x5f\155\x61\x72\x6b\x65\x74\x69\x6e\x67\137\160\x72\x69\x63\145\x5f\144\151\x73\x63\162\151\155\151\x6e\x61\x74\151\157\x6e\137\141\143\x74\x69\166\x65") === "\x59")) { goto N3xP1; } $priceDiscrimination = new PriceDiscrimination($oPlugin); Shop::set("\x61\x64\x6d\137\160\162\x69\x63\x65\x44\x69\x73\x63\x72\151\155\x69\156\x61\x74\151\x6f\156", $priceDiscrimination); $priceDiscrimination->applyDiscount(); $priceDiscrimination->setSmartyAndSessionVariables(); N3xP1: $nSeitenTyp = Shop::getPageType(); $aktuelleKundengruppe = !empty($_SESSION["\113\165\x6e\144\145\156\x67\x72\x75\x70\160\x65"]) ? $_SESSION["\113\x75\x6e\x64\x65\156\x67\x72\165\x70\x70\x65"]->getID() : null; if (!($nSeitenTyp === 1 && ($oPlugin->getConfig()->getValue("\141\x64\155\x6f\162\x72\x69\x73\137\160\162\x6f\x5f\x6d\x61\x72\x6b\145\164\x69\x6e\147\137\x64\151\163\143\157\165\156\164\x5f\144\151\x73\x70\x6c\141\171\x5f\x61\x63\164\x69\166\x65") === "\131" || $oPlugin->getConfig()->getValue("\x61\x64\155\157\x72\x72\x69\x73\x5f\160\x72\157\137\x6d\x61\x72\x6b\x65\x74\x69\156\147\137\x70\x72\151\x63\x65\x5f\x64\x69\x73\143\162\x69\x6d\x69\156\x61\x74\x69\x6f\x6e\x5f\141\143\x74\x69\166\145") === "\131"))) { goto hgsHh; } $Artikel = $smarty->getTemplateVars("\x41\162\x74\151\153\x65\x6c"); $kArtikel = $Artikel->Preise->kArtikel; $orgArtikel = new Artikel(); $orgArtikel->fuelleArtikel($kArtikel, null, $aktuelleKundengruppe, $_SESSION["\x6b\x53\160\x72\141\x63\150\x65"], true); $smarty->assign("\x6f\162\147\137\x61\162\164\151\x63\154\x65", $orgArtikel); hgsHh: if (!($oPlugin->getConfig()->getValue("\141\144\x6d\x6f\x72\162\151\x73\137\x70\x72\x6f\x5f\155\141\x72\x6b\x65\164\151\156\147\137\163\150\151\x70\x70\x69\156\x67\x5f\x63\x6f\x73\x74\137\160\162\157\x67\162\x65\163\163\x5f\x62\x61\x72\137\x61\x63\164\x69\x76\145") == "\131")) { goto qYyYO; } $shippingCostProgressBar = new \Plugin\admorris_pro\ShippingCostProgressBar($oPlugin); $smarty->assign("\141\x64\155\x6f\162\x72\x69\163\137\160\162\x6f\x5f\x6d\141\x72\153\x65\x74\x69\x6e\147\x5f\x73\x68\151\160\x70\x69\156\x67\137\143\157\163\x74\x5f\160\162\x6f\147\162\145\x73\163\137\x62\x61\162", $shippingCostProgressBar); $smarty->assign("\x61\x64\155\x6f\x72\162\151\163\137\x70\162\157\x5f\155\141\x72\x6b\x65\x74\x69\x6e\147\137\163\x68\x69\160\x70\151\x6e\x67\137\143\157\x73\164\137\160\162\157\x67\x72\x65\163\x73\x5f\x62\x61\162\x5f\141\x72\x72\141\171", $shippingCostProgressBar->getOutputArray()); qYyYO: