<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro\enhancedEcommerceTracking; use JTL\Shop; class GoogleAds extends AbstractEcommerceTracking { const CONSENT_KEY = "\141\x64\x6d\157\x72\162\x69\x73\x2d\141\144\163"; protected function getGeneralScript() : ?ScriptWrapper { $script = ''; $url = $this->getScriptUrl(); $dataSrc = $this->activateScripts() ? '' : "\144\x61\x74\141\55"; if ($this->analyticsEnabled()) { goto S7Vee; } $script = "\12\40\x20\40\40\40\40\x20\40\x20\40\74\x21\x2d\x2d\x20\x47\x6c\157\x62\141\154\40\x73\151\164\x65\x20\164\x61\147\x20\50\x67\164\141\x67\56\x6a\163\x29\x20\55\x20\107\x6f\157\x67\x6c\x65\40\x41\156\141\x6c\171\164\151\143\163\40\x2d\55\x3e\xa\x20\40\x20\40\x20\40\40\40\40\x20\74\163\x63\x72\151\160\x74\40\x61\x73\171\x6e\143\x20{$this->scriptTagInner}\40{$dataSrc}\x73\162\x63\x3d\x22{$url}\57\x67\x74\141\x67\57\152\163\x3f\x69\x64\75{$this->getID()}\42\x3e\x3c\57\x73\143\162\151\x70\164\x3e\xa\x20\40\40\40\40\x20\40\40\x20\x20\74\x73\143\x72\x69\160\164\x20{$this->scriptTagInner}\76\xa\40\40\x20\40\x20\40\x20\x20\40\40\40\40\x77\x69\156\x64\x6f\167\x2e\x64\x61\164\141\x4c\x61\x79\145\x72\x20\x3d\x20\x77\x69\x6e\144\x6f\167\x2e\144\x61\164\141\114\141\x79\x65\x72\40\x7c\x7c\x20\x5b\135\73\xa\40\40\x20\x20\40\40\x20\40\40\x20\x20\40\x69\x66\x28\x74\171\x70\x65\157\146\x20\x67\164\141\147\40\x21\75\x3d\x20\x27\146\x75\156\143\x74\151\157\x6e\x27\51\x7b\xa\x20\x20\40\40\40\40\x20\x20\40\40\40\x20\40\x20\x66\165\156\x63\x74\x69\157\x6e\40\147\x74\141\147\50\x29\173\40\x64\x61\x74\x61\114\x61\x79\x65\x72\56\x70\165\163\x68\x28\141\162\147\165\x6d\x65\x6e\x74\163\51\73\40\x7d\x3b\12\x20\x20\40\x20\40\40\x20\40\40\40\40\40\175\xa\40\40\x20\40\40\40\40\40\x20\x20\x20\40\12\40\x20\x20\x20\40\40\x20\40\x20\x20\40\x20\147\x74\141\x67\50\x27\152\x73\x27\54\x20\x6e\x65\x77\40\x44\x61\164\x65\50\51\x29\73\xa\40\x20\x20\40\40\40\40\40\x20\40\40\x20\147\x74\x61\x67\50\47\x63\x6f\156\146\x69\x67\47\x2c\40\47{$this->getID()}\x27\x29\x3b\12\40\x20\40\40\40\x20\x20\40\40\40\74\57\163\x63\162\x69\160\x74\x3e"; goto h2Jcq; S7Vee: $script = "\x3c\163\143\162\x69\x70\x74\40{$this->scriptTagInner}\76\12\40\x20\40\x20\x20\x20\40\40\40\40\x67\164\x61\x67\50\x27\x6a\163\47\x2c\x20\156\x65\167\40\x44\141\164\145\50\51\x29\x3b\xa\x20\x20\40\40\x20\x20\40\x20\40\40\x67\x74\x61\x67\x28\x27\143\x6f\x6e\x66\x69\x67\47\x2c\40\47{$this->getID()}\x27\x29\73\xa\xa\x20\x20\x20\x20\x20\x20\40\x20\40\x20\x67\164\x61\147\x28\x27\x63\x6f\156\x66\151\x67\x27\54\40\x27{$this->getID()}\x27\x2c\40\x7b\xa\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\40\40\x74\x72\141\156\163\x70\x6f\x72\x74\x5f\165\162\x6c\x3a\40\47{$url}\x27\x2c\xa\x20\x20\40\40\40\40\40\40\x20\x20\x20\40\146\x69\162\x73\x74\137\160\141\162\164\x79\137\x63\157\154\154\145\143\164\151\x6f\x6e\x3a\x20\164\162\x75\145\12\40\40\x20\x20\x20\40\40\40\40\175\51\73\12\x20\x20\x20\40\x20\x20\x20\40\x3c\x2f\163\x63\x72\151\160\164\x3e"; h2Jcq: return $this->wrapScript("\142\157\x64\171", "\x61\160\160\145\x6e\144", $script); } protected function getPurchaseScript() : ?ScriptWrapper { $order = $this->smarty->getTemplateVars("\x42\145\x73\x74\x65\x6c\154\165\x6e\x67"); $transaction = $this->payload->getTransactionPayload($order, $this->smarty->getTemplateVars("\x63\x53\x68\157\160\x4e\141\155\x65"), "\x61\144\x73"); if (!empty($transaction)) { goto ep86F; } return null; ep86F: $script = "\74\41\55\55\40\105\166\145\x6e\x74\x20\x73\x6e\151\160\160\145\164\40\146\157\162\x20\143\x6f\x6e\x76\x65\162\x73\151\157\156\40\55\55\x3e\x20\12\x20\40\40\40\x20\x20\x3c\163\143\162\151\x70\x74\x20{$this->scriptTagInner}\76\12\40\x20\x20\x20\x20\x20\x20\40\40\40\147\x74\x61\x67\50\x27\x65\166\145\x6e\164\x27\54\40\47\143\x6f\x6e\166\x65\x72\163\x69\x6f\156\47\54\40{$transaction}\x29\73\12\40\x20\x20\x20\40\40\x3c\x2f\163\143\162\x69\x70\164\76"; return $this->wrapScript("\142\157\x64\x79", "\141\160\160\145\156\144", $script); } }