<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro; use JTL\Session\Frontend; use JTL\Shop; class TriggerFilter { private static $instance = null; private $nSeitenTyp; private $WarenkorbWarensumme; private $WarenkorbArtikelanzahl; private $zuletztInWarenkorbGelegterArtikel; private $zuletztInWarenkorbGelegterArtikelVersandklasse; private $Warenkorbliste; private $cISOSprache; private $smarty; private $cArtNr; private $cHersteller; private $fVKNetto; private $fLagerbestand; private $AktuelleKategorieCName; private $AktuelleKategorie; private $kundengruppe; private $loggedIn; private $cAnrede; private $dGeburtstag; private $dErstellt; private $cLand; private $cBundesland; private $cOrt; private $actual_url; private $request_uri; private $sonderpreis_aktiv; private $Artikel; public function __construct() { $this->smarty = Shop::Smarty(); $this->initializeVariables(); } private static function getInstance() : self { if (!(self::$instance === null)) { goto S4N6s; } self::$instance = new self(); S4N6s: return self::$instance; } private function initializeVariables() : void { goto FrRvX; Y3zi1: $Kunde = Frontend::getCustomer(); $this->loggedIn = !is_null($Kunde->kKunde); $this->cAnrede = $Kunde->cAnrede ?? null; $this->dGeburtstag = $Kunde->dGeburtstag ?? null; $this->dErstellt = $Kunde->dErstellt ?? null; $this->cLand = $Kunde->cLand ?? null; $this->cBundesland = $Kunde->cBundesland ?? null; $this->cOrt = $Kunde->cOrt ?? null; $this->actual_url = "{$_SERVER["\110\x54\124\x50\x5f\110\117\x53\x54"]}{$_SERVER["\x52\x45\121\x55\x45\x53\124\x5f\125\122\111"]}"; $this->request_uri = $_SERVER["\x52\x45\x51\125\105\x53\124\x5f\125\x52\111"] ?? ''; goto amBCP; amBCP: $this->sonderpreis_aktiv = $this->Artikel->Preise->Sonderpreis_aktiv ?? null; goto FJpNP; FrRvX: $this->WarenkorbWarensumme = $this->smarty->getTemplateVars("\127\141\x72\145\x6e\x6b\157\162\142\x57\x61\162\145\x6e\x73\x75\x6d\x6d\145"); $this->WarenkorbWarensumme = str_replace("\x20\46\145\165\x72\157\x3b", '', $this->WarenkorbWarensumme[1]); $this->WarenkorbWarensumme = str_replace("\x2e", '', $this->WarenkorbWarensumme); $this->WarenkorbWarensumme = str_replace("\x2c", "\56", $this->WarenkorbWarensumme); $this->WarenkorbWarensumme = str_replace("\40", '', $this->WarenkorbWarensumme); $this->WarenkorbArtikelanzahl = $this->smarty->getTemplateVars("\127\141\x72\x65\x6e\x6b\157\162\142\x41\162\x74\x69\153\x65\x6c\x61\x6e\x7a\x61\150\x6c"); $this->zuletztInWarenkorbGelegterArtikel = $this->smarty->getTemplateVars("\172\x75\x6c\145\164\x7a\x74\111\x6e\127\141\162\x65\x6e\x6b\x6f\162\142\107\145\154\145\147\164\145\x72\101\x72\x74\x69\x6b\x65\x6c"); $this->zuletztInWarenkorbGelegterArtikelVersandklasse = $this->zuletztInWarenkorbGelegterArtikel->kVersandklasse ?? null; $this->zuletztInWarenkorbGelegterArtikel = $this->zuletztInWarenkorbGelegterArtikel->cArtNr ?? null; $this->Warenkorbliste = Frontend::getCart()->PositionenArr; goto rVOZ8; rVOZ8: $this->cISOSprache = $_SESSION["\143\x75\x72\x72\145\x6e\164\114\141\x6e\147\165\141\147\145"]->iso639; $this->nSeitenTyp = $this->smarty->getTemplateVars("\156\x53\x65\151\x74\x65\x6e\124\171\160"); $this->Artikel = $this->smarty->getTemplateVars("\101\x72\x74\x69\153\145\x6c"); $this->cArtNr = $this->Artikel->cArtNr ?? null; $this->cHersteller = $this->Artikel->cHersteller ?? null; $this->fVKNetto = $this->Artikel->Preise->fVKNetto ?? null; $this->fLagerbestand = $this->Artikel->fLagerbestand ?? null; $this->AktuelleKategorie = $this->smarty->getTemplateVars("\x41\153\164\x75\145\x6c\x6c\x65\113\x61\x74\145\147\157\x72\x69\x65"); $this->AktuelleKategorieCName = $this->AktuelleKategorie?->getName(); $this->kundengruppe = Frontend::getCustomerGroup()->getName(); goto Y3zi1; FJpNP: } public static function check($triggerFilters, $triggerFilterOperator) : bool { $instance = self::getInstance(); return $instance->checkTrigger($triggerFilters, $triggerFilterOperator); } public function checkTrigger($triggerFilters, $triggerFilterOperator) : bool { $result = []; foreach ($triggerFilters as $filter) { $filterType = $filter->triggerFilterType; $filterValue = $filter->triggerFilterValue; switch ($filterType) { case "\x70\x61\147\145\x54\171\160\x65": $result[] = $this->compareValues($this->nSeitenTyp, $filterValue); goto MnlyQ; case "\160\x61\x67\145\124\171\x70\x65\x4e\157\164": $result[] = $this->compareValuesNot($this->nSeitenTyp, $filterValue); goto MnlyQ; case "\x62\141\x73\x6b\145\x74\126\141\x6c\x75\x65\x4d\157\162\x65\124\150\x61\x6e": $result[] = $this->compareMoreThan($this->WarenkorbWarensumme, $filterValue); goto MnlyQ; case "\142\141\163\153\145\164\126\x61\154\x75\145\x4c\145\x73\163\x54\x68\141\156": $result[] = $this->compareLessThan($this->WarenkorbWarensumme, $filterValue); goto MnlyQ; case "\x62\141\x73\x6b\145\x74\x43\157\165\156\164\115\x6f\x72\145\x54\150\x61\x6e": $result[] = $this->compareMoreThan($this->WarenkorbArtikelanzahl, $filterValue); goto MnlyQ; case "\x62\141\163\x6b\x65\164\x43\157\x75\x6e\x74\x4c\145\163\x73\x54\150\141\156": $result[] = $this->compareLessThan($this->WarenkorbArtikelanzahl, $filterValue); goto MnlyQ; case "\142\x61\x73\153\x65\164\x4c\x61\x73\x74\x50\162\x6f\x64\x75\143\164\x49\x64": $result[] = $this->compareValues($this->zuletztInWarenkorbGelegterArtikel, $filterValue); goto MnlyQ; case "\x62\x61\163\x6b\145\x74\114\141\x73\x74\120\162\157\x64\165\143\x74\x49\x64\x4e\157\x74": $result[] = $this->compareValuesNot($this->zuletztInWarenkorbGelegterArtikel, $filterValue); goto MnlyQ; case "\x62\x61\163\x6b\145\164\114\141\x73\164\120\162\x6f\144\165\143\x74\126\x65\162\163\x61\x6e\x64\153\154\x61\x73\163\145": $result[] = $this->compareValues($this->zuletztInWarenkorbGelegterArtikelVersandklasse, $this->getKVersandklasse($filterValue)); goto MnlyQ; case "\x62\x61\163\153\x65\x74\114\x61\x73\x74\120\x72\157\144\165\143\164\x56\145\162\163\141\x6e\144\153\154\x61\x73\x73\x65\x4e\x6f\164": $result[] = $this->compareValuesNot($this->zuletztInWarenkorbGelegterArtikelVersandklasse, $this->getKVersandklasse($filterValue)); goto MnlyQ; case "\x62\141\x73\x6b\145\164\x49\x6e\143\x6c\x75\144\145\163\120\162\157\x64\x75\143\x74\x49\x64": $taskResult = false; foreach ($this->Warenkorbliste as $Warenkorbartikel) { if (!$this->compareValues($Warenkorbartikel->cArtNr, $filterValue)) { goto alF1Y; } $taskResult = true; goto ALgk3; alF1Y: CjP4j: } ALgk3: $result[] = $taskResult; goto MnlyQ; case "\x62\x61\x73\x6b\x65\164\x49\156\143\x6c\x75\144\145\163\120\162\157\144\165\x63\164\111\144\x4e\x6f\x74": $taskResult = true; foreach ($this->Warenkorbliste as $Warenkorbartikel) { if (!$this->compareValues($Warenkorbartikel->cArtNr, $filterValue)) { goto xcKyW; } $taskResult = false; goto NCGSq; xcKyW: N6iue: } NCGSq: $result[] = $taskResult; goto MnlyQ; case "\142\141\x73\153\145\x74\111\156\143\x6c\x75\x64\145\x73\x50\x72\x6f\144\x75\x63\164\x56\x65\162\x73\141\x6e\144\153\x6c\141\163\163\x65": $taskResult = false; foreach ($this->Warenkorbliste as $Warenkorbartikel) { if (!$this->compareValues($Warenkorbartikel->kVersandklasse, $this->getKVersandklasse($filterValue))) { goto R5m62; } $taskResult = true; goto b4SYC; R5m62: nO0Xm: } b4SYC: $result[] = $taskResult; goto MnlyQ; case "\x62\x61\x73\153\145\x74\x49\x6e\x63\x6c\x75\144\145\x73\x50\x72\157\x64\x75\143\x74\x56\x65\x72\163\141\x6e\x64\x6b\x6c\x61\163\163\145\x4e\x6f\164": $taskResult = true; foreach ($this->Warenkorbliste as $Warenkorbartikel) { if (!$this->compareValues($Warenkorbartikel->kVersandklasse, $this->getKVersandklasse($filterValue))) { goto tw8JY; } $taskResult = false; goto szDHD; tw8JY: A95zv: } szDHD: $result[] = $taskResult; goto MnlyQ; case "\154\141\156\147\165\x61\147\x65": $result[] = $this->compareValues($this->cISOSprache, $filterValue); goto MnlyQ; case "\x6c\x61\156\147\x75\141\147\145\x4e\x6f\x74": $result[] = $this->compareValuesNot($this->cISOSprache, $filterValue); goto MnlyQ; case "\x63\x75\163\x74\157\x6d\x65\162\107\x72\x6f\x75\160": $result[] = $this->compareValues($this->kundengruppe, $filterValue); goto MnlyQ; case "\x63\165\163\164\157\155\145\162\x47\x72\x6f\x75\160\116\x6f\164": $result[] = $this->compareValuesNot($this->kundengruppe, $filterValue); goto MnlyQ; case "\x70\x72\157\144\165\143\x74\x49\x64": if ($this->nSeitenTyp != 1) { goto pU7oS; } $result[] = $this->compareValues($this->cArtNr, $filterValue); goto uhefh; pU7oS: $result[] = false; uhefh: goto MnlyQ; case "\x70\162\x6f\144\165\x63\x74\x49\144\116\157\164": if ($this->nSeitenTyp != 1) { goto YCIb0; } $result[] = $this->compareValuesNot($this->cArtNr, $filterValue); goto QLcCL; YCIb0: $result[] = false; QLcCL: goto MnlyQ; case "\x6d\x61\156\165\x66\x61\143\164\x75\x72\145\162": if ($this->nSeitenTyp != 1) { goto qr_bv; } $result[] = $this->compareValues($this->cHersteller, $filterValue); goto Z3vqk; qr_bv: $result[] = false; Z3vqk: goto MnlyQ; case "\155\141\x6e\165\146\141\x63\x74\x75\x72\145\162\x4e\x6f\164": if ($this->nSeitenTyp != 1) { goto sUSWX; } $result[] = $this->compareValuesNot($this->cHersteller, $filterValue); goto oJaRX; sUSWX: $result[] = false; oJaRX: goto MnlyQ; case "\166\153\142\x72\165\x74\x74\x6f\x4d\157\162\145\x54\150\141\156": if ($this->nSeitenTyp != 1) { goto cI66b; } $result[] = $this->compareMoreThan($this->Artikel->Preise->fVKBrutto, $filterValue); goto FoxPS; cI66b: $result[] = false; FoxPS: goto MnlyQ; case "\166\x6b\142\x72\165\x74\164\157": if ($this->nSeitenTyp != 1) { goto TwL7U; } $result[] = $this->compareValues(round($this->Artikel->Preise->fVKBrutto, 2), $filterValue); goto ZJwRn; TwL7U: $result[] = false; ZJwRn: goto MnlyQ; case "\166\153\x62\162\x75\x74\x74\157\114\x65\163\163\x54\150\x61\156": if ($this->nSeitenTyp != 1) { goto veCmP; } $result[] = $this->compareLessThan($this->Artikel->Preise->fVKBrutto, $filterValue); goto GRIci; veCmP: $result[] = false; GRIci: goto MnlyQ; case "\x76\x6b\x6e\145\x74\x74\x6f\115\x6f\x72\145\124\150\141\156": if ($this->nSeitenTyp != 1) { goto XTap2; } $result[] = $this->compareMoreThan(round($this->fVKNetto, 2), $filterValue); goto WevOv; XTap2: $result[] = false; WevOv: goto MnlyQ; case "\166\153\156\x65\x74\x74\x6f": if ($this->nSeitenTyp != 1) { goto BfTGl; } $result[] = $this->compareValues(round($this->fVKNetto, 2), $filterValue); goto wuA3R; BfTGl: $result[] = false; wuA3R: goto MnlyQ; case "\166\153\156\145\x74\164\x6f\114\x65\x73\163\124\x68\141\156": if ($this->nSeitenTyp != 1) { goto rVkcJ; } $result[] = $this->compareLessThan($this->fVKNetto, $filterValue); goto tvM0a; rVkcJ: $result[] = false; tvM0a: goto MnlyQ; case "\163\164\157\x63\153\115\157\162\145\124\150\x61\156": if ($this->nSeitenTyp != 1) { goto pIc9v; } $result[] = $this->compareMoreThan($this->fLagerbestand, $filterValue); goto b0Lfb; pIc9v: $result[] = false; b0Lfb: goto MnlyQ; case "\163\164\157\143\x6b\114\145\163\163\x54\x68\x61\x6e": if ($this->nSeitenTyp != 1) { goto zXKWB; } $result[] = $this->compareLessThan($this->fLagerbestand, $filterValue); goto yE7Os; zXKWB: $result[] = false; yE7Os: goto MnlyQ; case "\143\x61\x74\x65\x67\157\x72\x79\111\x64": $result[] = $this->compareValues($this->AktuelleKategorie->getId(), (int) $filterValue); goto MnlyQ; case "\x63\141\x74\x65\x67\x6f\162\x79\111\x64\103\x68\x69\154\x64": $categoryList = new \JTL\Catalog\Category\KategorieListe(); $openCagegories = $categoryList->getOpenCategories($this->AktuelleKategorie); $result[] = collect($openCagegories)->contains(fn($category) => $category->getId() === (int) $filterValue); goto MnlyQ; case "\x63\x61\x74\145\x67\157\162\x79": $result[] = $this->compareValues($this->AktuelleKategorieCName, $filterValue); goto MnlyQ; case "\143\141\x74\145\x67\x6f\162\171\x4e\157\x74": $result[] = $this->compareValuesNot($this->AktuelleKategorieCName, $filterValue); goto MnlyQ; case "\x6c\157\x67\147\x65\144\111\x6e": $result[] = $this->compareValues($this->loggedIn, $filterValue); goto MnlyQ; case "\x73\x65\170": $result[] = $this->compareValues($this->cAnrede, $filterValue); goto MnlyQ; case "\x73\x65\170\x4e\157\164": $result[] = $this->compareValuesNot($this->cAnrede, $filterValue); goto MnlyQ; case "\x62\x69\162\164\150\x64\x61\x79": goto utVZa; utVZa: if (!is_null($this->dGeburtstag)) { goto VjrbL; } goto MnlyQ; VjrbL: $compareResult = false; $today = date("\x59\55\155\x2d\x64"); $day = date("\155\x2d\x64"); $dGeburtstag = strtotime($this->dGeburtstag); $Geburtstag = date("\155\x2d\144", $dGeburtstag); if ($filterValue == "\164\157\144\141\x79") { goto Kik_r; } if ($filterValue == "\x77\x65\145\x6b") { goto omgda; } goto OxLC3; OxLC3: if ($filterValue == "\x6d\157\156\164\x68") { goto bI0S1; } goto kADkE; Kik_r: $compareResult = $this->compareValues($Geburtstag, $day); goto kADkE; omgda: $GeburtstagWoche = date("\127", $dGeburtstag); $Woche = date("\127"); $compareResult = $this->compareValues($GeburtstagWoche, $Woche); goto kADkE; goto w6qwd; w6qwd: bI0S1: $GeburtstagMonat = date("\x6e", $dGeburtstag); $Monat = date("\x6e"); $compareResult = $this->compareValues($GeburtstagMonat, $Monat); kADkE: $result[] = $compareResult; goto MnlyQ; goto OKiWz; OKiWz: case "\x63\x72\x65\x61\x74\145\144\x42\x65\146\157\x72\145": if (!is_null($this->dErstellt)) { goto FTMlQ; } goto MnlyQ; FTMlQ: $dErstellt = strtotime($this->dErstellt); $FilterValue = strtotime($filterValue); $result[] = $this->compareLessThan($dErstellt, $FilterValue); goto MnlyQ; case "\x63\162\x65\x61\164\x65\x64\x41\x66\164\145\162": if (!is_null($this->dErstellt)) { goto ch8rh; } goto MnlyQ; ch8rh: $dErstellt = strtotime($this->dErstellt); $FilterValue = strtotime($filterValue); $result[] = $this->compareMoreThan($dErstellt, $FilterValue); goto MnlyQ; case "\x63\x6f\x75\x6e\x74\x72\171": $result[] = $this->compareValues($this->cLand, $filterValue); goto MnlyQ; case "\x63\157\165\x6e\x74\162\x79\x4e\x6f\x74": $result[] = $this->compareValuesNot($this->cLand, $filterValue); goto MnlyQ; case "\x73\164\141\x74\145": $result[] = $this->compareValues($this->cBundesland, $filterValue); goto MnlyQ; case "\163\164\141\x74\145\x4e\157\x74": $result[] = $this->compareValuesNot($this->cBundesland, $filterValue); goto MnlyQ; case "\143\x69\x74\x79": $result[] = $this->compareValues($this->cOrt, $filterValue); goto MnlyQ; case "\x63\x69\x74\x79\116\157\164": $result[] = $this->compareValuesNot($this->cOrt, $filterValue); goto MnlyQ; case "\151\x73\115\157\x62\x69\154\145": $result[] = $this->compareValues($this->isMobileDevice(), $filterValue); goto MnlyQ; case "\151\x73\x4d\157\142\x69\154\x65\116\157\x74": $result[] = $this->compareValuesNot($this->isMobileDevice(), $filterValue); goto MnlyQ; case "\x55\x52\114": $result[] = $this->compareValues($filterValue, $this->actual_url); goto MnlyQ; case "\x55\122\x4c\156\x6f\x74": $result[] = $this->compareValuesNot($filterValue, $this->actual_url); goto MnlyQ; case "\x55\122\114\x63\157\x6e\x74\x61\151\156\x73": $result[] = $this->containsValue($filterValue, $this->actual_url); goto MnlyQ; case "\125\122\x4c\x63\157\x6e\164\141\151\156\163\116\x6f\x74": $result[] = $this->containsValueNot($filterValue, $this->actual_url); goto MnlyQ; case "\162\x65\161\x75\145\163\x74\125\x52\111": $result[] = $this->compareValues($filterValue, $this->request_uri); goto MnlyQ; case "\x72\x65\x71\165\145\163\x74\125\x52\111\156\x6f\164": $result[] = $this->compareValuesNot($filterValue, $this->request_uri); goto MnlyQ; case "\162\145\161\165\145\163\x74\125\122\111\143\x6f\x6e\164\x61\x69\x6e\163": $result[] = $this->containsValue($filterValue, $this->request_uri); goto MnlyQ; case "\x72\145\161\165\145\x73\x74\125\122\111\x63\157\x6e\x74\x61\151\156\x73\x4e\157\x74": $result[] = $this->containsValueNot($filterValue, $this->request_uri); goto MnlyQ; case "\163\x70\x65\143\151\x61\154\157\x66\146\145\162": if ($this->nSeitenTyp != 1) { goto CXm0t; } if (!($filterValue == "\146\141\154\x73\x65")) { goto JXkC_; } $filterValue = false; JXkC_: $result[] = $this->compareValues($this->sonderpreis_aktiv, $filterValue); goto ZaTaD; CXm0t: $result[] = false; ZaTaD: goto MnlyQ; case "\146\x75\156\x6b\x74\151\x6f\x6e\163\x41\164\x74\162\151\142\x75\164\x65\105\170\151\x73\164\163": if ($this->nSeitenTyp != 1) { goto XaJcr; } $value = strtolower($filterValue); $result[] = array_key_exists($value, $this->Artikel->FunktionsAttribute); goto zl7tj; XaJcr: $result[] = false; zl7tj: goto MnlyQ; case "\x66\x75\156\153\x74\151\157\x6e\x73\101\x74\x74\x72\151\142\165\164\x65\x56\141\154\x75\x65": if ($this->nSeitenTyp != 1) { goto q0ahZ; } $string = $filterValue; $separator = strrpos($string, "\x3a"); $value = substr($string, $separator + 1); $attribute = substr($string, 0, $separator); $result[] = $this->compareValues($this->Artikel->FunktionsAttribute[$attribute], $value); goto NDEWm; q0ahZ: $result[] = false; NDEWm: goto MnlyQ; case "\x66\x75\156\x6b\164\x69\157\156\163\x41\x74\164\162\x69\x62\165\164\x65\x56\x61\x6c\x75\145\x4e\157\x74": if ($this->nSeitenTyp != 1) { goto xZE6b; } $string = $filterValue; $separator = strrpos($string, "\x3a"); $value = substr($string, $separator + 1); $attribute = substr($string, 0, $separator); $result[] = $this->compareValuesNot($this->Artikel->FunktionsAttribute[$attribute], $value); goto aMsbR; xZE6b: $result[] = false; aMsbR: goto MnlyQ; case "\141\164\164\x72\151\x62\x75\x74\x65\x56\x61\154\x75\145": if ($this->nSeitenTyp != 1) { goto ljYFk; } $string = $filterValue; $separator = strrpos($string, "\72"); $value = substr($string, $separator + 1); $attribute = substr($string, 0, $separator); $compareResult = false; foreach ($this->Artikel->Attribute as $Attributes) { if (!($Attributes->cName == $attribute && $Attributes->cWert == $value)) { goto XhANt; } $compareResult = true; goto J7oM2; XhANt: ikfrh: } J7oM2: $result[] = $compareResult; goto Tax68; ljYFk: $result[] = false; Tax68: goto MnlyQ; case "\141\x74\x74\x72\x69\x62\x75\164\x65\126\x61\154\165\x65\116\157\x74": if ($this->nSeitenTyp != 1) { goto QoqLZ; } $string = $filterValue; $separator = strrpos($string, "\72"); $value = substr($string, $separator + 1); $attribute = substr($string, 0, $separator); $compareResult = true; if (!$this->Artikel) { goto q7E0y; } foreach ($this->Artikel->Attribute as $Attributes) { if (!($Attributes->cName == $attribute && $Attributes->cWert == $value)) { goto VoC4n; } $compareResult = false; goto rXx90; VoC4n: OJQ2X: } rXx90: q7E0y: $result[] = $compareResult; goto mRXt3; QoqLZ: $result[] = false; mRXt3: goto MnlyQ; case "\x61\x74\164\162\x69\x62\x75\164\145\105\170\x69\163\164\x73": if ($this->nSeitenTyp != 1) { goto NJTlU; } $compareResult = false; if (!$this->Artikel) { goto k2wbS; } foreach ($this->Artikel->Attribute as $Attributes) { if (!($Attributes->cName == $filterValue)) { goto DoJHB; } $compareResult = true; goto Teth7; DoJHB: IR21u: } Teth7: k2wbS: $result[] = $compareResult; goto xXMgB; NJTlU: $result[] = false; xXMgB: goto MnlyQ; } xo3Me: MnlyQ: g7uPr: } aVh3k: if ($triggerFilterOperator == "\141\x6e\x64" && !in_array(false, $result)) { goto ZGAsy; } if ($triggerFilterOperator == "\x6f\162" && in_array(true, $result)) { goto lYgJB; } return false; goto gc18C; ZGAsy: return true; goto gc18C; lYgJB: return true; gc18C: } private function compareValues($valueA, $valueB) : bool { return $valueA == $valueB; } private function compareValuesNot($valueA, $valueB) : bool { return $valueA != $valueB; } private function compareMoreThan($valueA, $valueB) : bool { return floatval($valueA) >= floatval($valueB); } private function compareLessThan($valueA, $valueB) : bool { return floatval($valueA) <= floatval($valueB); } private function isMobileDevice() : bool { return preg_match("\57\x28\x61\156\144\x72\x6f\x69\144\174\x61\166\141\x6e\164\147\157\174\x62\154\141\x63\x6b\x62\x65\162\162\x79\174\x62\x6f\x6c\x74\x7c\x62\157\157\x73\164\x7c\143\x72\151\143\x6b\145\164\x7c\144\157\x63\x6f\x6d\157\x7c\x66\157\x6e\x65\174\150\151\x70\x74\157\x70\x7c\155\x69\156\151\174\155\x6f\142\x69\174\x70\141\x6c\x6d\174\x70\150\157\x6e\145\174\x70\151\x65\174\164\x61\x62\154\x65\164\x7c\165\x70\134\56\x62\162\x6f\167\x73\145\x72\x7c\x75\x70\x5c\x2e\154\x69\156\153\x7c\x77\145\x62\x6f\163\x7c\167\x6f\163\51\x2f\151", $_SERVER["\110\124\124\120\x5f\125\x53\x45\122\x5f\x41\x47\x45\116\124"]); } private function containsValue($valueA, $valueB) : bool { return str_contains($valueB, $valueA); } private function containsValueNot($valueA, $valueB) : bool { return !str_contains($valueB, $valueA); } private function getKVersandklasse($value) : int { $data = Shop::Container()->getDB()->query("\x53\x45\x4c\x45\x43\x54\x20\153\126\x65\162\163\141\156\144\x6b\154\x61\x73\163\145\x20\x46\x52\x4f\115\x20\164\x76\x65\x72\163\141\156\144\153\x6c\141\x73\163\x65\40\127\110\105\x52\105\40\143\116\x61\x6d\x65\x20\x3d\x20\x27{$value}\47\40\114\x49\115\x49\x54\x20\61", 2); return $data[0]->kVersandklasse ?? 9999; } }