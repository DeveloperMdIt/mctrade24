<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro; use JTL\Shop; class ShopVote { public static function handleConsent($newSetting) { $consentItemExists = Shop::Container()->getDB()->select("\164\143\x6f\x6e\163\x65\156\164", "\151\164\x65\x6d\111\x44", "\x61\x64\x6d\x6f\162\162\151\x73\x2d\x73\x68\x6f\160\166\x6f\164\145"); if (!($newSetting === "\131")) { goto ZVOUp; } if ($consentItemExists) { goto ApmlZ; } self::registerConsent(); ApmlZ: ZVOUp: if (!($newSetting === "\116")) { goto PJb5T; } if (!$consentItemExists) { goto Fe0Y8; } self::unregisterConsent(); Fe0Y8: PJb5T: } public static function registerConsent() { ConsentManagerIntegration::registerConsentItem(["\150\151\x64\144\145\x6e\116\141\x6d\145" => "\163\x68\157\x70\x76\x6f\x74\145", "\x63\157\155\x70\x61\156\171" => "\x42\154\x69\x63\153\x72\145\x69\146\40\x47\155\x62\110", "\141\x63\164\151\166\145" => 1, "\x6c\x6f\143\x61\154\151\172\141\164\151\157\x6e" => ["\147\145\162" => ["\x6c\x61\156\x67\x75\141\147\145\x49\144" => "\147\x65\162", "\143\x6f\157\153\x69\x65\104\145\x73\x63\162\151\x70\x74\151\157\x6e" => "\x54\x6f\x6f\x6c\x20\x7a\x75\x72\40\102\145\167\x65\162\164\165\156\147\40\x64\145\163\x20\123\150\157\160\163\x20\165\x6e\144\40\104\x61\x72\163\x74\x65\x6c\x6c\165\x6e\x67\x20\x64\x65\x72\x20\x42\x65\x77\145\162\x74\x75\x6e\147\x65\x6e", "\x63\x6f\x6f\x6b\151\145\x50\x75\x72\x70\157\163\x65" => "\101\156\141\154\171\x73\x65", "\160\x72\151\166\141\x63\171\120\x6f\x6c\151\143\171" => "\150\x74\164\160\x73\x3a\x2f\x2f\146\x61\161\56\x73\150\x6f\160\166\x6f\x74\x65\56\x64\145\x2f\x73\x68\x6f\160\142\145\164\x72\x65\151\x62\145\x72\57\x64\x61\x74\x65\x6e\x73\143\x68\x75\164\x7a\57", "\143\x6f\x6f\153\151\145\124\x69\164\154\x65" => "\x53\x68\157\160\166\157\164\x65"], "\145\156\147" => ["\154\x61\156\x67\165\141\x67\x65\x49\144" => "\145\x6e\147", "\x63\157\x6f\153\151\x65\104\145\163\143\162\x69\x70\x74\151\x6f\x6e" => "\124\157\157\x6c\40\x74\x6f\40\143\x6f\154\154\x65\x63\x74\x20\141\156\144\x20\x70\x72\145\163\x65\156\164\x20\x63\165\163\164\157\x6d\145\162\40\162\x65\166\151\x65\167\x73", "\x63\157\x6f\153\x69\145\120\x75\162\160\x6f\x73\x65" => "\101\156\141\154\171\x74\x69\143\x73", "\x70\x72\151\x76\141\x63\x79\120\x6f\154\151\x63\171" => "\x68\x74\164\160\x73\x3a\57\57\146\141\x71\56\x73\150\157\x70\166\157\x74\145\56\x64\145\57\x73\150\x6f\x70\142\x65\164\162\145\x69\x62\145\x72\x2f\x64\x61\x74\x65\x6e\163\x63\150\165\164\x7a\x2f", "\143\x6f\x6f\153\x69\145\124\151\164\154\x65" => "\123\x68\x6f\x70\166\x6f\164\145"]]]); } public static function unregisterConsent() { $consentSetting = Shop::Container()->getDB()->select("\x74\x63\157\x6e\x73\x65\x6e\x74", "\x69\164\145\155\111\x44", "\x61\144\155\x6f\x72\x72\151\163\55\x73\x68\x6f\x70\x76\157\164\x65"); if (!$consentSetting) { goto Htw2r; } ConsentManagerIntegration::unregisterConsentItem($consentSetting->id); Htw2r: } }