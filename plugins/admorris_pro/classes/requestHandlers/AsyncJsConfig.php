<?php
/*   __________________________________________________
    |  Copyright by admorris.pro  |
    |__________________________________________________|
*/
 namespace Plugin\admorris_pro\requestHandlers; use JTL\Shop; use Plugin\admorris_pro\Utils\TypeConverter; class AsyncJsConfig { public function load() { $conf = Shop::Container()->getDB()->query("\x53\105\x4c\x45\x43\x54\40\x2a\40\x46\x52\x4f\115\40\x78\160\x6c\x75\x67\x69\156\x5f\141\144\155\x6f\x72\162\151\163\137\160\x72\157\137\141\x73\171\x6e\143\x5f\x73\143\162\151\x70\x74\137\x63\157\x6e\146\x69\147", 2); $data = $this->setDataTypes($conf); return $data; } public function saveItem($data) { if (empty($data["\x69\144"])) { goto C0dFC; } return Shop::Container()->getDB()->update("\170\160\154\165\147\151\x6e\x5f\141\x64\155\x6f\x72\x72\151\x73\137\x70\162\x6f\x5f\141\x73\x79\x6e\143\137\163\143\x72\x69\x70\x74\137\143\157\x6e\x66\151\x67", "\151\x64", (int) $data["\x69\x64"], (object) $data); goto d3dGA; C0dFC: $data = (object) $data; return Shop::Container()->getDB()->insert("\170\160\154\x75\x67\x69\x6e\x5f\141\x64\x6d\x6f\x72\x72\151\x73\x5f\x70\x72\157\137\141\x73\x79\x6e\x63\x5f\x73\x63\x72\x69\160\164\x5f\x63\157\x6e\x66\151\x67", $data); d3dGA: } public function deleteItem($data) { return Shop::Container()->getDB()->delete("\x78\x70\x6c\165\x67\151\x6e\137\x61\144\x6d\157\162\162\151\163\x5f\x70\x72\157\x5f\141\163\171\x6e\143\x5f\163\x63\x72\151\160\164\x5f\143\x6f\156\146\x69\147", "\x69\x64", (int) $data["\x69\x64"]); } private function setDataTypes($data) { return array_map(function ($item) { return TypeConverter::setTypes((object) $item, ["\151\x64" => "\x69\156\x74", "\141\143\164\x69\x76\145" => "\142\x6f\x6f\154"]); }, $data); } }