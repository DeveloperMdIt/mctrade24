(globalThis.webpackChunkadmorris_jtl_template=globalThis.webpackChunkadmorris_jtl_template||[]).push([[255],{440:()=>{!function(){class t{constructor(t,e=null){this.isDragging=!1,this.startingPos=[],this.delta=10,this.el=t,this.callback=e,this.boundMoveHandler=t=>this.moveHandler(t),this.boundStartHandler=t=>this.startHandler(t),this.boundEndHandler=t=>this.endHandler(t),t.on("mousedown touchstart",this.boundStartHandler),t.on("mousemove touchmove",this.boundMoveHandler),t.on("mouseup touchend",this.boundEndHandler)}startHandler(t){var e;e=window.TouchEvent&&t.originalEvent instanceof TouchEvent?t.originalEvent.touches[0]:t,this.startingPos=[e.pageX,e.pageY],this.isDragging=!1}moveHandler(t){if(0!==this.startHandler.length){var e;e=window.TouchEvent&&t.originalEvent instanceof TouchEvent?t.originalEvent.touches[0]:t;var i=Math.abs(e.pageX-this.startingPos[0]),s=Math.abs(e.pageY-this.startingPos[1]);(i>this.delta||s>this.delta)&&(this.isDragging=!0)}}endHandler(t){if(!this.isDragging)return this.isDragging=!1,"function"==typeof this.callback&&this.callback(),!1}}var e=function(t,e){this.init(t,e)};e.DEFAULTS={items:[],size:"md",fullscreen:!1},e.prototype={constructor:e,element:null,thumbs:null,ident:"_",index:0,stack:[],isTouch:!1,init:function(t,i){var s=[];this.stack=[],this.index=0,this.element=t,this.thumbs=$("#gallery_preview_wrapper"),this.options=$.extend({},e.DEFAULTS,i),this.isTouch=isTouchCapable(),this.template=$(".productdetails-gallery"),this.imageLinks=$("#gallery a"),this.thumbOrientation=getComputedStyle(document.documentElement).getPropertyValue("--gallery-thumbnails-orientation"),this.options.items.length>0?s=this.options.items:$(this.element).find(".gallery-img").each((function(t,e){var i=$(e).data("list");s.push(i)})),$(document).trigger("evo:galleryClass.init",this),this.setItems(s),this.render(),this.thumbsDragging=!1},getIdent:function(){return this.ident},setItems:function(t,e){var i=this;this.ident=e||this.ident,this.clearStack(),$(t).each((function(t,e){i.getStack().push(e)}))},render:function(i){var s,n,o,a=this;this.ident=i||this.ident,s=this.template,(o=this.element).slick({infinite:!0,dots:!1,arrows:!1,speed:500,swipe:!!isTouchCapable()}).on("beforeChange",(function(t,e,i,s){a.activate(s),a.centerThumbs()}));var r=$("li",this.thumbs);if(r.length>0&&Array.from(r).forEach((function(t,e){$(t).on("mouseup touchend",(function(t){a.thumbsDragging||(o.slick("slickGoTo",e),a.centerThumbs())}))})),!0===admorris_pro_template_settings.easyzoom&&(loadjs.isDefined("easyzoom")||loadjs(admorris_pro_template_settings.templateDir+"js/easyzoom.js","easyzoom")),$(document).trigger("evo:galleryClass.render",s),setTimeout((function(){a.slideThumbs()}),0),!this.options.fullscreen){let e=o.find(".slick-slide");e.each((function(t,i){if($(i).find(".thrixty").length>0)return e.splice(t,1),!1}));const i=new t(e);e.on("click",(function(t){t.preventDefault()})).on("mouseup touchend",(function(t){if(i.isDragging)return;const e=$("#thrixty_box_1");return $.isEmptyObject(e)||!e.parents(".slick-slide").is($(this))?(n=$(this).find("img").data("index"),a.openPhotoswipe(n),!1):void 0}))}$(this.element).one("mouseover touchstart",(function(){var t=admorris_pro_template_settings.templateDir;loadjs.isDefined("gallery")||loadjs([t+"styles/pnotify.custom.min.css",t+"js/photoswipe.min.js"],"gallery")})),setTimeout((function(){a.activate(0)}),0),e.prototype.element=this.element,this.isTouch||loadjs.ready("easyzoom",(function(){a.easyzoom=$(".easyzoom").easyZoom(),a.easyzoomApi=a.easyzoom.data("easyZoom")}))},openPhotoswipe:function(t){var e,i,s=document.querySelectorAll(".pswp")[0],n=jQuery.extend(!0,[],this.getStack()),o=[];for(e=0;e<n.length;e++)i=n[e].lg,o.push({src:i.src,w:i.size.width,h:i.size.height});var a=new PhotoSwipe(s,PhotoSwipeUI_Default,o,{index:t,mouseUsed:!0,closeOnScroll:!1,history:!1});a.init(),$(document).trigger("evo:photoSwipe.init",a)},thumbLayoutHorizontal(){const t=ResponsiveBootstrapToolkit.current();return 1==this.thumbOrientation||!["lg"].includes(t)&&2==this.thumbOrientation},centerThumbs:function(){var t=this.thumbs,e=t.get(0),i=$("li.active",t),s=$("li",t);if(this.thumbLayoutHorizontal()){let n=t.width(),o=s.outerWidth(),a=i.position().left-n/2+o/2;e.scrollLeft+=a}else{let n=t.height(),o=s.outerHeight(),a=i.position().top-n/2+o/2;e.scrollTop+=a}},getAxis(){return this.thumbLayoutHorizontal()?"pageX":"pageY"},slideThumbs:function(){var t,e;const i=this,s=this.thumbs.get(0);$(this.thumbs).on("mousedown touchstart",(function(s){e=!0;const n=i.getAxis();t="mousedown"===s.type?s["client"+(i.thumbLayoutHorizontal()?"X":"Y")]:s[n]||s.originalEvent.touches[0][n]})).on("mousemove touchmove",(function(){!0===e&&(i.thumbsDragging=!0,e=!1)})).on("dragstart",(function(t){t.preventDefault()})),$(window).on("mousemove",(function(e){if(!i.thumbsDragging)return;let n;$(s).css({"scroll-snap-type":"none","scroll-behavior":"auto"}),e.preventDefault(),n=e["client"+(i.thumbLayoutHorizontal()?"X":"Y")];let o=(i.thumbLayoutHorizontal()?s.scrollLeft:s.scrollTop)-(n-t);i.thumbLayoutHorizontal()?$(s).scrollLeft(o):$(s).scrollTop(o),t=n})),$(window).on("mouseup touchend",(function(t){e=!1,i.thumbsDragging&&(i.thumbsDragging=!1,$(s).css({"scroll-snap-type":"","scroll-behavior":""}))}))},itemCount:function(){return this.getStack().length},clearStack:function(t){var e=t||this.ident;void 0!==this.stack[e]&&(this.stack[e]=[])},getStack:function(t){var e=t||this.ident;return void 0===this.stack[e]&&(this.stack[e]=[]),this.stack[e]},getStacks:function(){return this.stack},activate:function(t){$("li",this.thumbs).removeClass("active"),$("li:eq("+t+")",this.thumbs).addClass("active"),this.index=t}},$.fn.gallery=function(t){return 0===this.length?this:this.length>1?(this.each((function(){$(this).gallery(t)})),this):new e(this,t)}}(jQuery)}}]);