"use strict";(globalThis.webpackChunkadmorris_jtl_template=globalThis.webpackChunkadmorris_jtl_template||[]).push([[167],{960:(e,t,n)=>{n.r(t),n.d(t,{endlessPagination:()=>c});let o=new CustomEvent("pagination:content-loaded",{bubbles:!0,cancelable:!0}),r=!1;const i=async(e,t)=>{const n=document.querySelector("more"===t?".load-more__spinner":".load-prev__spinner"),o=document.querySelector("more"===t?".load-more__pagination":".load-prev__pagination");n&&(n.style.display="inline-block"),o&&(o.style.display="none"),e?.id&&await a(e.id,t),n&&(n.style.display="none"),o&&(o.style.display="inline-block")},a=(e,t)=>(r=!0,$.ajax({url:e,type:"GET",success:function(n){let i=$(n),a=$(i).find("#product-list"),s=$(i).find(".load-"+t+"__pagination");history.pushState(null,null,e),"more"===t?a.children().appendTo("#product-list"):a.children().prependTo("#product-list"),void 0!==s.attr("id")?$(".load-"+t+"__pagination").attr("id",s.attr("id")):$(".load-"+t+"__pagination").remove();const l=document.querySelector(".page-total > span");if(l){let e=l.textContent.split("/"),o=e[0].split("-");const r=(n.match(/"product-wrapper/g)||[]).length;"more"===t?o[1]=parseInt(r)+parseInt(o[1])+" ":"prev"===t&&(o[0]=parseInt(o[0])-parseInt(r)+" "),o=o.join("- "),e[0]=o,e=e.join("/"),l.textContent=e}r=!1,document.dispatchEvent(o)},error:function(e){r=!1,console.log(e)}})),s=()=>{if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&$(".load-more__pagination").length>0){const e=document.querySelector(".load-more__pagination");e&&(e.style.display="none");const t=document.querySelector(".load-more__wrapper"),n={rootMargin:"20% 0px 0px 0px"};new IntersectionObserver((e=>l(e,n))).observe(t)}},l=e=>{const t=document.querySelector(".load-more__pagination");e.map((e=>{e.isIntersecting&&!r&&i(t,"more")}))},p=(e="both")=>{const t=[];"prev"!==e&&t.push({btn:document.querySelector(".load-more__pagination"),direction:"more"}),t.push({btn:document.querySelector(".load-prev__pagination"),direction:"prev"}),t.map((e=>{e.btn&&e.btn.addEventListener("click",(function(){i(e.btn,e.direction)}))}))};function c(){switch(parseInt(admorris_pro_template_settings.paginationType)){case 1:p();break;case 2:p("prev"),s()}}}}]);