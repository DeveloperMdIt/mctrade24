"use strict";(globalThis.webpackChunkadmorris_jtl_template=globalThis.webpackChunkadmorris_jtl_template||[]).push([[661],{94:(e,t,n)=>{let o,i,a,r,d;n.r(t),n.d(t,{init:()=>l});let s={basket:null,body:null,header:null};function l(){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&(a=$(".productdetails-fixed-form"),r=a.hasClass("productdetails-fixed-form--top"),d=document.getElementById("evo-main-nav-wrapper"),p(),function(){let e=new MutationObserver((e=>{if(e[0]&&null!=e[0].addedNodes){let t=e[0].addedNodes[0];t.id&&"result-wrapper"===t.id&&(f(),p())}})),t=document.querySelector("#content");e.observe(t,{attributes:!1,childList:!0,characterData:!1})}(),$(window).on("headerHeightChange",c),$(document).on("variationSetVal",(function(){a=$(".productdetails-fixed-form")})))}function c(e){i=e.originalEvent.data.stickyHeaderHeight??0,void 0!==e.originalEvent.data.headerHeight&&(o=e.originalEvent.data.headerHeight),Object.values(s).forEach((e=>{e&&e.disconnect()})),f()}function u(e=null){const t={basket:{options:{rootMargin:`${i}px 0px 0px 0px`,threshold:[0,.5,1]},callback:h},body:{options:{rootMargin:"0px 0px 150px 0px"},callback:b},header:{options:{rootMargin:`-${0!=i&&void 0!==o?i:void 0!==o?o:1}px 0px 0px 0px`},callback:g}}[e];return t?new IntersectionObserver(t.callback,t.options):null}function h(e){e.forEach((({isIntersecting:e,boundingClientRect:t})=>{const n=r?["not-intersecting","not-intersecting--top"]:["not-intersecting"];e||t.top>=i?a.removeClass(n.join(" ")):a.addClass(n.join(" "))}))}function b(e){e.forEach((e=>{r||a.toggleClass("bottom",e.isIntersecting)}))}function g(e){e.forEach((e=>{r&&(e.isIntersecting?(a.addClass("under-normal-header"),a.removeClass("under-sticky-header")):(a.removeClass("under-normal-header"),a.addClass("under-sticky-header")))}))}function p(){$("#quantity").change((function(){$("#quantity-fixed").val($("#quantity").val())})),$("#quantity-fixed").change((function(){$("#quantity").val($("#quantity-fixed").val()).trigger("change")}))}function f(){if(a=$(".productdetails-fixed-form"),0===a.length)return;let e=document.getElementById("add-to-cart"),t=document.getElementById("product-configuration-sidebar"),n=document.querySelector(".product-info")?.getElementsByClassName("variations")||[],o=document.getElementById("fixed-bottom-pixel");o&&(s.body=u("body"),s.body.observe(o)),(e||n.length>0||t)&&(s.basket=u("basket"),e?s.basket.observe(e):n.length>0&&s.basket.observe(n[n.length-1]),t&&s.basket.observe(t)),d&&(s.header=u("header"),s.header.observe(d))}}}]);